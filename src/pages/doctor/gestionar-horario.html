<body class="bg-gray-50">
  <div class="max-w-6xl mx-auto p-4 md:p-8">
      <div class="mb-8">
          <h1 class="text-4xl font-bold text-gray-800">Gestionar Mi Horario</h1>
          <p class="text-gray-500 mt-2">Define tus horas de trabajo semanales y gestiona los días excepcionales.</p>
      </div>

      <div id="error-message" class="hidden"></div>
      <div id="success-message" class="hidden"></div>

      <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
          <div class="lg:col-span-3">
              <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                  <h2 class="text-xl font-semibold text-gray-700 mb-6 flex items-center gap-3"><i class="bi bi-calendar-week text-indigo-500"></i>Horario Semanal Recurrente</h2>
                  <form id="schedule-form" class="space-y-4">
                      <div id="schedule-days-container" class="space-y-4"></div>
                      
                      <div class="pt-6 border-t">
                          <label for="duracion_cita_minutos" class="block text-sm font-medium text-gray-700 mb-2">Duración estándar de la cita</label>
                          <select id="duracion_cita_minutos" class="w-full md:w-1/2 p-2 border border-gray-300 rounded-lg bg-gray-50 focus:ring-indigo-500 focus:border-indigo-500">
                              <option value="15">15 minutos</option>
                              <option value="20">20 minutos</option>
                              <option value="30" selected>30 minutos</option>
                              <option value="45">45 minutos</option>
                              <option value="60">60 minutos</option>
                          </select>
                      </div>

                      <div class="flex justify-end pt-4">
                          <button type="submit" id="save-schedule-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 flex items-center gap-2">
                              <i class="bi bi-check-circle"></i>
                              Guardar Horario Semanal
                          </button>
                      </div>
                  </form>
              </div>
          </div>

          <div class="lg:col-span-2">
              <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
                  <h2 class="text-xl font-semibold text-gray-700 mb-6 flex items-center gap-3"><i class="bi bi-calendar-x text-orange-500"></i>Excepciones de Horario</h2>
                  
                  <form id="exception-form" class="space-y-4 p-4 bg-gray-50 rounded-lg border mb-6">
                      <h3 class="font-medium text-gray-800">Añadir nueva excepción</h3>
                      <div>
                          <label for="fecha_excepcion" class="text-sm font-medium text-gray-700">Fecha</label>
                          <input type="date" id="fecha_excepcion" required class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                      </div>
                      <div>
                          <label class="text-sm font-medium text-gray-700">Disponibilidad</label>
                          <select id="esta_disponible" class="mt-1 w-full p-2 border border-gray-300 rounded-lg">
                              <option value="false">No disponible (Día libre)</option>
                              <option value="true">Horario especial</option>
                          </select>
                      </div>
                      <div id="special-hours-container" class="hidden grid grid-cols-2 gap-4">
                          <div>
                              <label for="excepcion_hora_inicio" class="text-sm">Inicio</label>
                              <input type="time" id="excepcion_hora_inicio" class="mt-1 w-full p-2 border rounded-lg" step="1800">
                          </div>
                          <div>
                              <label for="excepcion_hora_fin" class="text-sm">Fin</label>
                              <input type="time" id="excepcion_hora_fin" class="mt-1 w-full p-2 border rounded-lg" step="1800">
                          </div>
                      </div>
                      <button type="submit" id="add-exception-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 px-4 rounded-lg flex items-center justify-center gap-2">
                          <i class="bi bi-plus-circle"></i>
                          Añadir Excepción
                      </button>
                  </form>

                  <div id="exceptions-list-container" class="space-y-3">
                      <p class="text-center text-gray-500">Cargando excepciones...</p>
                  </div>
              </div>
          </div>
      </div>
  </div>
</body>